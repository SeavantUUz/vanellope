
{% extends "home-base.html" %}
{% block "primary" %}

<div class="primary-item-container">

  <div class="primary-caption">
    <span class="primary-caption-icon"><i class="icon-pencil  icon-2x"></i></span>
    <span class="primary-caption-words">写文章</span>
  </div><!-- end of  "primary-caption" -->

    <div class="primary-item-sep"></div>

  <form class="article" id="myform" action="/article" enctype="multipart/form-data" method="post">

    <input type="file" id="intro-img" name="intro-img" value="选择图片"><span>展示在首页，图片大小应选择192x108px</span>
      <div class="primary-item-sep"></div>
    <input class="article inputbox" type="text" name="title" placeholder="标题" autofocus>
      <div class="primary-item-sep"></div>
    <textarea class="article inputbox" name="subtitle" placeholder="简介" style="min-height:100px"></textarea>
      <div class="primary-item-sep"></div>
      <div id="preview"> </div>
    <textarea class="article inputbox" id="text-input" oninput="this.editor.update()" name="content" placeholder="正文"></textarea>
    <script>
      function Editor(input, preview){
        this.update = function () {
          preview.innerHTML = markdown.toHTML(input.value);
          }
          input.editor = this;
          this.update();
        }
      var $ = function (id) { return document.getElementById(id); };
      new Editor($("text-input"), $("preview"));

    </script>
    
      <div class="primary-item-sep"></div>
    <input class="btn" type="submit" value="发表">
      <div class="primary-item-sep"></div>
  </form><!-- end of "article-editor" -->
	</div>

{% end %}
